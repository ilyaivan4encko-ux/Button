<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Clicks 4.0 -- Story Edition</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #1a1a1a, #000);
    height: 100vh;
    width: 100vw;
    font-family: 'Segoe UI', sans-serif;
    color: #fff;
    user-select: none;
    touch-action: manipulation;
  }
  canvas {
    display: block;
    width: 100%;
    height: 100%;
  }
  #ui {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  #scoreboard {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
  }
  #scoreboard h1 {
    font-size: 28px;
    margin: 5px;
    text-shadow: 0 0 10px #ffd700;
  }
  #clickButton {
    position: absolute;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    height: 180px;
    border-radius: 50%;
    background: radial-gradient(circle at center, #6b4b1e, #2c1b0e);
    box-shadow: 0 0 25px #ffb84d;
    border: 4px solid #ffcc66;
    pointer-events: auto;
    animation: pulse 2s infinite;
  }
  #clickButton:active {
    transform: translateX(-50%) scale(0.95);
    box-shadow: 0 0 35px #ffaa33;
  }
  @keyframes pulse {
    0% { box-shadow: 0 0 15px #ffb84d; }
    50% { box-shadow: 0 0 35px #ffcc66; }
    100% { box-shadow: 0 0 15px #ffb84d; }
  }
  #epoch {
    position: absolute;
    top: 50px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 20px;
    text-shadow: 0 0 15px #ffcc66;
  }
  #shop, #research {
    position: absolute;
    bottom: 20px;
    width: 45%;
    text-align: center;
    pointer-events: auto;
  }
  #shop { left: 2%; }
  #research { right: 2%; }
  button.menu {
    background: rgba(255, 215, 0, 0.1);
    border: 2px solid #ffcc66;
    color: #fff;
    font-weight: bold;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    text-shadow: 0 0 5px #ffcc66;
  }
  button.menu:hover { background: rgba(255, 215, 0, 0.25); }
  #notification {
    position: absolute;
    bottom: 300px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.6);
    padding: 10px 20px;
    border-radius: 10px;
    border: 1px solid #ffcc66;
    display: none;
    text-align: center;
  }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<div id="ui">
  <div id="scoreboard">
    <h1 id="coins">–ú–æ–Ω–µ—Ç—ã: 0</h1>
    <h1 id="xp">–û–ø—ã—Ç: 0</h1>
  </div>
  <div id="epoch">–≠–ø–æ—Ö–∞: –ö–∞–º–µ–Ω–Ω–∞—è</div>
  <div id="clickButton"></div>
  <div id="shop"><button class="menu" id="openShop">üõí –ú–∞–≥–∞–∑–∏–Ω</button></div>
  <div id="research"><button class="menu" id="openResearch">üåø –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</button></div>
  <div id="notification"></div>
</div>
<script>

// === –ë–õ–û–ö 2: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–ª–∏–∫–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏—è ===

// –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const coinDisplay = document.getElementById('coins');
const xpDisplay = document.getElementById('xp');
const epochDisplay = document.getElementById('epoch');
const notification = document.getElementById('notification');
const clickButton = document.getElementById('clickButton');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let coins = 0;
let xp = 0;
let clickValue = 1;
let epochIndex = 0;
const epochNames = ["–ö–∞–º–µ–Ω–Ω–∞—è", "–ë—Ä–æ–Ω–∑–æ–≤–∞—è", "–ñ–µ–ª–µ–∑–Ω–∞—è", "–ó–æ–ª–æ—Ç–∞—è", "–ú–∞—à–∏–Ω–Ω–∞—è", "–°–≤–µ—Ä—Ö—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–∞—è"];
let particles = [];
let bgHue = 30; // –Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç –∑–∞–¥–Ω–µ–≥–æ —Ñ–æ–Ω–∞ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –æ—Ç—Ç–µ–Ω–æ–∫)

// –ú—É–∑—ã–∫–∞ –∏ –∑–≤—É–∫–∏
const bgMusic = new Audio("https://cdn.pixabay.com/audio/2022/08/09/audio_46d3b4e5cb.mp3"); // —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞
bgMusic.loop = true;
bgMusic.volume = 0.2;
bgMusic.play().catch(()=>{console.log("–ê–≤—Ç–æ–∑–≤—É–∫ –∑–∞–ø—É—â–µ–Ω –ø–æ–∑–∂–µ");});

const clickSound = new Audio("https://cdn.pixabay.com/audio/2021/09/16/audio_6f8c1a40a8.mp3");
const epochSound = new Audio("https://cdn.pixabay.com/audio/2022/03/15/audio_0c1cc6c56c.mp3");

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
function updateUI() {
  coinDisplay.textContent = `–ú–æ–Ω–µ—Ç—ã: ${coins}`;
  xpDisplay.textContent = `–û–ø—ã—Ç: ${xp}`;
  epochDisplay.textContent = `–≠–ø–æ—Ö–∞: ${epochNames[epochIndex]}`;
}

// –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
function createParticles(x, y, color) {
  for (let i = 0; i < 10; i++) {
    particles.push({
      x: x,
      y: y,
      size: Math.random() * 4 + 2,
      speedX: (Math.random() - 0.5) * 5,
      speedY: (Math.random() - 0.5) * 5,
      color: color,
      life: 50
    });
  }
}

// –ê–Ω–∏–º–∞—Ü–∏—è Canvas
function animate() {
  ctx.fillStyle = `hsl(${bgHue}, 30%, 10%)`;
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  bgHue += 0.1;

  // —á–∞—Å—Ç–∏—Ü—ã
  for (let i = 0; i < particles.length; i++) {
    const p = particles[i];
    p.x += p.speedX;
    p.y += p.speedY;
    p.life--;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
    ctx.fill();
  }
  particles = particles.filter(p => p.life > 0);

  requestAnimationFrame(animate);
}
animate();

// –ö–ª–∏–∫
clickButton.addEventListener('click', (e) => {
  coins += clickValue;
  xp += Math.floor(clickValue / 2);
  updateUI();
  clickSound.currentTime = 0;
  clickSound.play();
  createParticles(canvas.width / 2, canvas.height - 150, "#ffcc66");
  saveGame();
});

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
function showNotification(text) {
  notification.innerText = text;
  notification.style.display = "block";
  setTimeout(() => { notification.style.display = "none"; }, 2000);
}

// –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
function saveGame() {
  localStorage.setItem("clicks4_save", JSON.stringify({
    coins, xp, clickValue, epochIndex
  }));
}

function loadGame() {
  const data = JSON.parse(localStorage.getItem("clicks4_save"));
  if (data) {
    coins = data.coins;
    xp = data.xp;
    clickValue = data.clickValue;
    epochIndex = data.epochIndex;
    updateUI();
  }
}
loadGame();
// === –ë–õ–û–ö 3.2: –£–ª—É—á—à–µ–Ω–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ ===

let autoClickers = 0;

// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∏–∫–æ–Ω–∫–∏
const categories = [
  { name: "–ö–ª–∏–∫", icon: "üí•" },
  { name: "–ê–≤—Ç–æ–∫–ª–∏–∫", icon: "‚öôÔ∏è" },
  { name: "–î–æ—Ö–æ–¥", icon: "üí∞" },
  { name: "–û–ø—ã—Ç", icon: "üìò" },
  { name: "–°–ø–µ—Ü-—ç—Ñ—Ñ–µ–∫—Ç", icon: "‚ú®" },
];

// –°–æ–∑–¥–∞—ë–º 100 —É–ª—É—á—à–µ–Ω–∏–π
const upgrades = [];
const eraUpgrades = ["–ö–∞–º–µ–Ω–Ω–∞—è", "–ë—Ä–æ–Ω–∑–æ–≤–∞—è", "–ñ–µ–ª–µ–∑–Ω–∞—è", "–ó–æ–ª–æ—Ç–∞—è", "–ú–∞—à–∏–Ω–Ω–∞—è", "–°–≤–µ—Ä—Ö—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–∞—è"];

for (let i = 0; i < 100; i++) {
  const era = eraUpgrades[Math.floor(i / (100 / eraUpgrades.length))];
  const cat = categories[i % categories.length];
  const baseCost = 30 + i * 15;
  const power = 1 + i * 0.1;

  upgrades.push({
    id: i,
    name: `${cat.icon} ${era}: ${cat.name} #${i + 1}`,
    category: cat.name,
    cost: baseCost,
    power: power,
    purchased: false
  });
}

// –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
const shopModal = document.createElement("div");
shopModal.style.cssText = `
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.8); display: none; align-items: center;
  justify-content: center; z-index: 1000; color: #fff; flex-direction: column;
  backdrop-filter: blur(8px);
`;
const shopList = document.createElement("div");
shopList.style.cssText = "max-height: 70%; overflow-y: auto; width: 90%; text-align: left;";
const closeShopBtn = document.createElement("button");
closeShopBtn.textContent = "–ó–∞–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω";
closeShopBtn.className = "menu";
closeShopBtn.style.marginTop = "15px";
shopModal.appendChild(shopList);
shopModal.appendChild(closeShopBtn);
document.body.appendChild(shopModal);

closeShopBtn.onclick = () => (shopModal.style.display = "none");

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
function renderShop() {
  shopList.innerHTML = "";
  const available = upgrades.filter(u => !u.purchased).slice(0, 10);
  if (available.length === 0) {
    shopList.innerHTML = "<h3>–í—Å–µ 100 —É–ª—É—á—à–µ–Ω–∏–π –∫—É–ø–ª–µ–Ω—ã üéâ</h3>";
    return;
  }

  available.forEach((u) => {
    const item = document.createElement("div");
    item.style.cssText =
      "background: rgba(255,215,0,0.1); margin: 6px 0; padding: 8px 12px; border-radius: 8px; border: 1px solid #ffcc66; cursor: pointer;";
    item.innerHTML = `<b>${u.name}</b><br>üí∞ ${u.cost} –º–æ–Ω–µ—Ç ‚Ä¢ üíé –≠—Ñ—Ñ–µ–∫—Ç: ${u.power.toFixed(1)}`;
    item.onclick = () => buyUpgrade(u.id, item);
    shopList.appendChild(item);
  });
}

// –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–∫—É–ø–∫–∏
function flashEffect(color = "#ffcc66") {
  const flash = document.createElement("div");
  flash.style.cssText = `
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: ${color}; opacity: 0.2; z-index: 999;
  `;
  document.body.appendChild(flash);
  setTimeout(() => flash.remove(), 150);
}

// –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è
function buyUpgrade(id, element) {
  const u = upgrades[id];
  if (!u || u.purchased) return;
  if (coins >= u.cost) {
    coins -= u.cost;
    switch (u.category) {
      case "–ö–ª–∏–∫": clickValue += Math.floor(u.power); break;
      case "–ê–≤—Ç–æ–∫–ª–∏–∫": autoClickers += 1; break;
      case "–î–æ—Ö–æ–¥": coins += Math.floor(u.power * 5); break;
      case "–û–ø—ã—Ç": xp += Math.floor(u.power * 10); break;
      case "–°–ø–µ—Ü-—ç—Ñ—Ñ–µ–∫—Ç": createParticles(canvas.width/2, canvas.height/2, "#ffcc66"); break;
    }
    u.purchased = true;
    element.style.opacity = "0.3";
    element.style.pointerEvents = "none";
    flashEffect();
    clickSound.play();
    showNotification(`–ö—É–ø–ª–µ–Ω–æ: ${u.name}!`);
    updateUI();
    saveGame();
  } else {
    showNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
  }
}

// –ö–Ω–æ–ø–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
document.getElementById("openShop").onclick = () => {
  renderShop();
  shopModal.style.display = "flex";
};

// –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
setInterval(() => {
  if (autoClickers > 0) {
    coins += autoClickers * (1 + epochIndex * 0.5);
    xp += Math.floor(autoClickers / 2);
    updateUI();
    saveGame();
  }
}, 1000);
// === –ë–õ–û–ö 4: –î—Ä–µ–≤–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π, —ç–ø–æ—Ö–∏, –æ–∑–≤—É—á–∫–∞ ===

// –≠–ø–æ—Ö–∏ –∏ –∏—Ö –ø–æ—Ä–æ–≥ –ø–æ –æ–ø—ã—Ç—É
const epochs = [
  { name: "–ö–∞–º–µ–Ω–Ω–∞—è", xpRequired: 0, color: "#886644", music: "https://cdn.pixabay.com/audio/2021/09/07/audio_8dd5e9c745.mp3" },
  { name: "–ë—Ä–æ–Ω–∑–æ–≤–∞—è", xpRequired: 200, color: "#a97142", music: "https://cdn.pixabay.com/audio/2023/03/27/audio_4f15d9b0bb.mp3" },
  { name: "–ñ–µ–ª–µ–∑–Ω–∞—è", xpRequired: 600, color: "#9a9a9a", music: "https://cdn.pixabay.com/audio/2023/04/02/audio_3e98fcb5e3.mp3" },
  { name: "–ó–æ–ª–æ—Ç–∞—è", xpRequired: 1200, color: "#ffcc33", music: "https://cdn.pixabay.com/audio/2022/07/01/audio_d9b2c21c63.mp3" },
  { name: "–ú–∞—à–∏–Ω–Ω–∞—è", xpRequired: 2500, color: "#667788", music: "https://cdn.pixabay.com/audio/2022/03/17/audio_b6c68c7f06.mp3" },
  { name: "–°–≤–µ—Ä—Ö—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–∞—è", xpRequired: 5000, color: "#33ccff", music: "https://cdn.pixabay.com/audio/2023/02/20/audio_90e5b4e7a4.mp3" },
];

// –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã
const voiceLines = [
  "https://cdn.pixabay.com/audio/2022/03/15/audio_7c3a2fa9bb.mp3", // "–û—Ç–ª–∏—á–Ω–æ!"
  "https://cdn.pixabay.com/audio/2022/05/16/audio_3487f7a63c.mp3", // "–ü—Ä–æ–¥–æ–ª–∂–∞–π!"
  "https://cdn.pixabay.com/audio/2022/09/09/audio_aeccf82a7d.mp3", // "–ù–æ–≤–∞—è —ç—Ä–∞!"
];

// –î—Ä–µ–≤–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
const researchButton = document.getElementById("openResearch");
researchButton.onclick = () => {
  const nextEpoch = epochs[epochIndex + 1];
  if (!nextEpoch) return showNotification("–¢—ã –¥–æ—Å—Ç–∏–≥ –≤–µ—Ä—à–∏–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏!");
  const need = nextEpoch.xpRequired;
  showNotification(`–°–ª–µ–¥—É—é—â–∞—è —ç–ø–æ—Ö–∞: ${nextEpoch.name}\n–ù—É–∂–Ω–æ ${need} –æ–ø—ã—Ç–∞.`);
};

// –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —ç–ø–æ—Ö–∞–º–∏
function nextEpoch() {
  if (epochIndex < epochs.length - 1 && xp >= epochs[epochIndex + 1].xpRequired) {
    epochIndex++;
    const newEra = epochs[epochIndex];
    epochDisplay.textContent = `–≠–ø–æ—Ö–∞: ${newEra.name}`;
    bgHue = Math.random() * 360;
    flashEffect(newEra.color);
    epochSound.currentTime = 0;
    epochSound.play();
    playVoice();
    changeMusic(newEra.music);
    showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ${newEra.name} —ç–ø–æ—Ö—É!`);
    saveGame();
  } else {
    showNotification("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—ã—Ç–∞!");
  }
}

// –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞
const nextEraBtn = document.createElement("button");
nextEraBtn.textContent = "üöÄ –í–ø–µ—Ä—ë–¥ –∫ –Ω–æ–≤–æ–π —ç–ø–æ—Ö–µ";
nextEraBtn.className = "menu";
nextEraBtn.style.position = "absolute";
nextEraBtn.style.bottom = "260px";
nextEraBtn.style.left = "50%";
nextEraBtn.style.transform = "translateX(-50%)";
nextEraBtn.style.pointerEvents = "auto";
nextEraBtn.onclick = nextEpoch;
document.getElementById("ui").appendChild(nextEraBtn);

// –°–º–µ–Ω–∞ –º—É–∑—ã–∫–∏
let currentMusic = bgMusic;
function changeMusic(src) {
  if (currentMusic) currentMusic.pause();
  currentMusic = new Audio(src);
  currentMusic.loop = true;
  currentMusic.volume = 0.3;
  currentMusic.play();
}

// –°–ª—É—á–∞–π–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≥–æ–ª–æ—Å–∞
function playVoice() {
  const v = new Audio(voiceLines[Math.floor(Math.random() * voiceLines.length)]);
  v.volume = 0.4;
  v.play();
}

// –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
setInterval(() => {
  if (Math.random() < 0.15) playVoice();
}, 15000);
// === –ë–õ–û–ö 5: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∑–∞–≥—Ä—É–∑–∫–∞, —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ü–µ–Ω–∞, —Ñ–∏–Ω–∞–ª ===

// --- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ ---
setInterval(() => {
  saveGame();
}, 10000);

// --- –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ---
function startIntro() {
  showNotification("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Clicks 4.0 -- Story Edition!");
  setTimeout(() => showNotification("–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π —Å–∫–≤–æ–∑—å —ç–ø–æ—Ö–∏ –∏ —Ä–∞–∑–≤–∏–≤–∞–π —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—é!"), 4000);
  createParticles(canvas.width / 2, canvas.height / 2, "#ffcc66");
  clickSound.play();
}
window.addEventListener("load", startIntro);

// --- –≠—Ñ—Ñ–µ–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —ç–ø–æ—Ö–∏ ---
function checkEndGame() {
  if (epochIndex >= epochs.length - 1 && xp >= epochs[epochs.length - 1].xpRequired + 1000) {
    showNotification("üåå –¢—ã –¥–æ—Å—Ç–∏–≥ –ø—Ä–µ–¥–µ–ª–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π! –ù–æ–≤–∞—è —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è —Ä–æ–∂–¥–∞–µ—Ç—Å—è...");
    const endMusic = new Audio("https://cdn.pixabay.com/audio/2022/07/31/audio_918d8b7ed7.mp3");
    endMusic.volume = 0.4;
    endMusic.play();
    flashEffect("#33ccff");
    setTimeout(() => {
      createParticles(canvas.width / 2, canvas.height / 2, "#33ccff");
    }, 3000);
  }
}
setInterval(checkEndGame, 5000);

// --- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ ---
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

// --- –§–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ---
updateUI();
saveGame();

// –ö–æ–Ω–µ—Ü –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
</script>
</body>
</html>